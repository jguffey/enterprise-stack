# Marketing Site

This is a static site generated by [gatsby](https://www.gatsbyjs.org/).

To get started, make sure you are using the node version that is specified in
`../../.nvmrc`. You can run `nvm use` to auto-switch to this node version. Note
that you may have to install it (nvm will tell you how to do this). If you don't
already have `nvm` installed, visit [this page](https://github.com/nvm-sh/nvm#installing-and-updating)
to learn how.

Now you are ready to run the site in development mode. `cd` in to the `site`
directory and run `npx gatsby develop`. This will start a local server and
you can now access the site at [http://localhost:8000/](http://localhost:8000/).

# To Deploy

This project uses a Docker container optimized to host a static build of this
site. From the git root of this project, there will be instructions for running
the docker-compose project. This marketing site is a multi stage
build, wherein the first stage compiles this site, and the second stage is a
very thin layer that simply serves static sites (a thin apache web image).

# Development

Unlike the other applications in this repo, this one doesn't support auto-reloading during development via docker. This is because of the design of the docker-image, which is a 2-stage process. Reproducing this process on every file save would take too long to be useful, instead, use `gatsby` as it's developers intended, run it locally! When the application is ready to deploy the docker-container pathway will be used and therefore a small final image will serve this site.
